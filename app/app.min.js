"use strict";function dataObject(){this.cards=[{id:"999",title:"Sample Card",equation:"34 + 10 =",solution:"44"}]}function calculator(a,t){function o(a,t){return a=a.includes(t)?a.slice(1):t+a}function l(t,o){o&&t.push(o),a.displayTop=t.join(" ")}function i(a){for(a=a.map(function(a,t,o){return a.startsWith("-√")?-1*Math.sqrt(parseFloat(a.slice(2))):a.startsWith("√")?Math.sqrt(parseFloat(a.slice(1))):a});""===a[0]||isNaN(a[0]);)a.shift();for(;""===a[a.length-1]||isNaN(a[a.length-1]);)a.pop();return a}function e(a){var t="?",o="?";return 1===a.length?a[0]:a.includes("^")?(t=a.indexOf("^"),o=Math.pow(parseFloat(a[t-1]),parseFloat(a[t+1])),a.splice(t-1,3,o),e(a)):a.includes("x")?(t=a.indexOf("x"),o=parseFloat(a[t-1])*parseFloat(a[t+1]),a.splice(t-1,3,o),e(a)):a.includes("÷")?(t=a.indexOf("÷"),o=parseFloat(a[t-1])/parseFloat(a[t+1]),a.splice(t-1,3,o),e(a)):a.includes("+")?(t=a.indexOf("+"),o=parseFloat(a[t-1])+parseFloat(a[t+1]),a.splice(t-1,3,o),e(a)):a.includes("-")?(t=a.indexOf("-"),o=parseFloat(a[t-1])-parseFloat(a[t+1]),a.splice(t-1,3,o),e(a)):void 0}a.dataService=t,a.displayBot="",a.displayTop="",a.calc=[],a.equationSolved=!1,a.inputNumberClick=function(t){a.equationSolved||(a.displayBot+=t)},a.inputFunctionClick=function(t){return a.displayBot=a.displayBot.toString(),"+/-"===t?(a.displayBot=o(a.displayBot.toString(),"-"),void(a.equationSolved=!1)):"√"===t?(a.displayBot=o(a.displayBot.toString(),"√"),void(a.equationSolved=!1)):void(""!==a.displayBot&&(a.calc.push(a.displayBot),a.calc.push(t),l(a.calc),a.clear("bottom"),a.equationSolved=!1))},a.clear=function(t){switch(t){case"all":a.calc=[],a.displayTop="",a.displayBot="",a.equationSolved=!1;break;case"top":a.displayTop="";break;case"bottom":a.displayBot="";break;case"array":a.calc=[]}},a.equate=function(){a.equationSolved||(!isNaN(a.displayBot)||a.displayBot.startsWith("√")||a.displayBot.startsWith("-√"))&&(a.calc.push(a.displayBot,"="),a.clear("bottom"),l(a.calc),a.displayBot=e(i(a.calc)),a.clear("array"),a.equationSolved=!0)},a.backspace=function(){if(a.equationSolved)a.clear("top"),a.equationSolved=!1;else{if(""===a.displayBot&&""===a.displayTop)return;""===a.displayBot?(a.calc.pop(),a.displayBot=a.calc.pop(),l(a.calc)):(a.displayBot=a.displayBot.toString(),a.displayBot=a.displayBot.slice(0,a.displayBot.length-1))}},a.createCard=function(){if(a.displayTop&&a.displayBot){var o={};o.title="Card Title",o.id=Date.now()*Math.ceil(10*Math.random()),o.equation=a.displayTop,o.solution=a.displayBot,t.cards.unshift(o)}else console.log("Data not vailid for new card")}}function list(a,t){function o(a){for(var o=0;o<t.cards.length;o++)if(t.cards[o].id===a)return o}a.dataService=t,a.moveCard=function(a){var l=this.card.id,i=o(l),e="";"up"===a?(console.log("Up, Up, Up!"),e=t.cards[i-1],t.cards[i-1]=t.cards[i],t.cards[i]=e):"down"===a?(console.log("Down, Down, Down!"),e=t.cards[i+1],t.cards[i+1]=t.cards[i],t.cards[i]=e):console.log("No direction found")},a.delCard=function(){var a=this.card.id,l=o(a);t.cards.splice(l,1),console.log("See Ya!")}}angular.module("calculist2",[]),angular.module("calculist2").service("dataService",dataObject),angular.module("calculist2").controller("calculatorController",calculator),angular.module("calculist2").controller("listController",list);